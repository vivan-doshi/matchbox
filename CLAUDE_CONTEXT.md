# MATCHBOX - Claude AI Context Document

**Last Updated**: October 26, 2025
**Project Type**: Student Team-Matching Platform (MOR 531 Course Project)
**Status**: Active Development - Prototype/MVP Phase

---

## 1. PROJECT OVERVIEW

### 1.1 Mission & Purpose
**Matchbox** is a student collaboration platform designed to help university students (specifically MOR 531 course participants) find like-minded teammates for academic projects. The platform combines elements of:
- Professional networking (LinkedIn-style profiles)
- Team formation (skill-based matching)
- Project management (team collaboration tools)
- Social matching (Tinder-style discovery interface)

### 1.2 Core Value Proposition
Students can:
1. Create detailed profiles with skills, interests, and project preferences
2. Discover other students looking for team members
3. Match based on complementary skills and interests
4. Communicate through built-in messaging
5. Create and manage project teams
6. Showcase completed projects as portfolio pieces

### 1.3 Target Users
- University students (primarily MOR 531 course)
- Students seeking project collaborators
- Students with `.edu` email addresses
- Users interested in tech, design, business, and case competition projects

---

## 2. DUAL CODEBASE ARCHITECTURE

### 2.1 MagicPatternsCode Frontend (Vite-based Prototype)
**Location**: `/MagicPatternsCode/Front End/`

**Purpose**:
- UI/UX prototype and design reference
- Generated by Magic Patterns design tool
- Demonstrates complete user flows and interface patterns
- **NOT** connected to backend (uses mock data)

**Technology Stack**:
- **Framework**: React 18.3.1 + TypeScript 5.2.2
- **Build Tool**: Vite 5.2.0
- **Router**: React Router v6.26.2
- **Styling**: Tailwind CSS 3.4.17 with PostCSS + Autoprefixer
- **Icons**: Lucide React 0.522.0
- **Package Type**: ES Module

**Key Features Implemented**:
- Multi-step signup flow (5 steps)
- Dashboard with home, discover, chat pages
- User profile pages
- Project creation and management
- Team member management
- Match-based messaging system
- Completed projects showcase

**Design System**:
- Primary Colors: Orange-500 to Red-500 gradient branding
- Background: Slate-50 (light), White (containers)
- Text: Slate-900 (dark), Slate-600 (secondary)
- Typography: System font-sans stack
- Responsive: Mobile-first with md: and lg: breakpoints

**State Management**:
- React Context API for authentication (`AuthContext`)
- Local component state for UI interactions
- Mock implementations (no persistence, no API integration)

**Notable Components**:
- `LandingPage.tsx`: Marketing/public homepage
- `SignupFlow.tsx`: 5-step registration (email, profile, links, bio, education)
- `Dashboard.tsx`: Main authenticated shell with nested routing
- `HomePage.tsx`: Project feed with search/filters
- `DiscoverPage.tsx`: Completed projects showcase
- `ChatPage.tsx`: Messaging with DMs and groups
- `ProfilePage.tsx`: User profile with skills/interests
- `ProjectDetailsPage.tsx`: Individual project view
- `MyProjectsPage.tsx`: Manage created projects and applicants
- `CreateProjectModal.tsx`: Project creation form
- `ProjectCard.tsx`: Reusable project card component

### 2.2 Next.js + Express Backend (Production Codebase)
**Location**: Root `/client/` and `/server/` directories

**Purpose**:
- Production-ready full-stack application
- Backend API with database integration
- Authentication and data persistence
- Scalable architecture for deployment

**Frontend Stack** (`/client/`):
- **Framework**: Next.js 14+ with App Router
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: Shadcn/ui
- **Forms**: React Hook Form + Zod validation
- **API Client**: Axios with interceptors

**Backend Stack** (`/server/`):
- **Runtime**: Node.js + Express + TypeScript
- **Database**: MongoDB with Mongoose ODM
- **Authentication**: JWT tokens + bcrypt password hashing
- **Validation**: Express-validator
- **Security**: CORS, Helmet, Morgan middleware

**Current Implementation Status**:
- ‚úÖ Project structure and configuration
- ‚úÖ User model with validation
- ‚úÖ JWT authentication system
- ‚úÖ Register/Login endpoints (`/api/auth/register`, `/api/auth/login`)
- ‚úÖ Protected route middleware
- ‚úÖ Password hashing with bcrypt
- ‚úÖ Database connection setup
- ‚úÖ Frontend basic landing page
- ‚ùå Auth UI pages (login/register) - TO DO
- ‚ùå User profiles - TO DO
- ‚ùå Matching algorithm - TO DO
- ‚ùå Messaging system - TO DO
- ‚ùå Projects feature - TO DO

**Monorepo Structure**:
```
matchbox/
‚îú‚îÄ‚îÄ package.json              # Root workspace manager
‚îú‚îÄ‚îÄ client/                   # Next.js frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/             # Pages (App Router)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/        # React contexts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/api.ts       # Axios API client
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/           # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server/                   # Express backend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # Database config
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # Business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # Auth, validation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/          # Mongoose schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/           # JWT utilities
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ MagicPatternsCode/        # UI/UX reference prototype
```

---

## 3. KEY USER FLOWS & FEATURES

### 3.1 Authentication Flow
1. **Signup** (5-step process):
   - Step 1: Email validation (must be `.edu`)
   - Step 2: Name info (first, last, preferred)
   - Step 3: Social links (LinkedIn, GitHub, Portfolio)
   - Step 4: Bio + Skills (with 0-10 rating scale)
   - Step 5: Education (university, major, graduation, alumni status)

2. **Login**: Email + password ‚Üí JWT token

3. **Session Management**:
   - JWT stored in localStorage (frontend)
   - Token sent in Authorization header for protected routes
   - Token expires in 7 days (configurable)

### 3.2 Profile Management
- Profile view with avatar, bio, skills, interests
- Skill visualization with progress bars
- Social links (LinkedIn, GitHub, Portfolio)
- Completed projects showcase
- Edit profile functionality

### 3.3 Project Discovery & Matching
**Home Page**:
- Search bar for projects
- Category filters: Tech, Design, Business, Case Competitions
- Project feed with cards showing:
  - Title, creator, description, tags
  - Team roles with fill status
  - Apply buttons for open roles

**Discover Page**:
- Grid of completed/past projects
- Portfolio/inspiration showcase
- External links to GitHub and articles
- Team member avatars

### 3.4 Project Creation & Management
**Create Project**:
- Title and description
- Tags (add/remove dynamic)
- Team roles (add/remove with title + description)

**My Projects Page**:
- Expandable project cards
- Three tabs per project:
  1. **Team Members**: Roster table with actions (message, remove)
  2. **Applicants**: List with match quality scores, messages, accept/reject
  3. **Recommendations**: AI-suggested candidates with skills

**Project Details**:
- Full project information
- Team roles list with fill status
- Role descriptions
- Creator information
- Application buttons for open roles

### 3.5 Messaging System
**Chat Interface**:
- Sidebar with:
  - Direct Messages tab
  - Groups tab
  - Create Group button
  - Fill Open Positions button
- Main chat area:
  - Message thread
  - Input with send button
  - Group member list
  - "BOXED!" status for matched connections

**Modals**:
- Create group chat
- Fill team positions from matched connections

### 3.6 Matching Algorithm (Planned)
**Score Calculation**:
```
match_score =
  (common_skills * 0.4) +
  (common_interests * 0.3) +
  (year_compatibility * 0.2) +
  (availability_overlap * 0.1)
```

**Features**:
- Match scores displayed in applicants list
- High/Medium/Low match quality indicators
- AI-powered recommendations

---

## 4. DATA MODELS & SCHEMAS

### 4.1 User Model (Backend - Mongoose)
**Location**: `/server/src/models/User.model.ts`

```typescript
{
  name: string (required, 3-50 chars)
  email: string (required, unique, validated, lowercase)
  password: string (required, min 6 chars, hashed)
  profilePicture?: string (URL)
  bio?: string
  university?: string
  major?: string
  year?: string
  graduationYear?: number
  skills?: string[] (array of skill names)
  interests?: string[] (array of interest names)
  socialLinks?: {
    linkedin?: string
    github?: string
    portfolio?: string
  }
  createdAt: Date (auto)
  updatedAt: Date (auto)
}
```

**Middleware**:
- Pre-save hook to hash password with bcrypt (10 salt rounds)
- Password comparison method for login

### 4.2 User Type (Frontend - AuthContext)
**Location**: `/MagicPatternsCode/Front End/src/context/AuthContext.tsx`

```typescript
type User = {
  id?: string
  firstName?: string
  lastName?: string
  preferredName?: string
  email?: string
  university?: string
  major?: string
  bio?: string
  profilePicture?: string
  skills?: Record<string, number>  // skill name -> rating (0-10)
}
```

### 4.3 Project Model (Planned)
```typescript
{
  title: string
  description: string
  tags: string[]
  creatorId: ObjectId (ref: User)
  teamRoles: [
    {
      title: string
      description: string
      filled: boolean
      memberId?: ObjectId (ref: User)
    }
  ]
  status: 'Planning' | 'In Progress' | 'Completed'
  timeline?: string
  externalLinks?: {
    github?: string
    article?: string
  }
  createdAt: Date
  updatedAt: Date
}
```

### 4.4 Match Model (Planned)
```typescript
{
  user1Id: ObjectId (ref: User)
  user2Id: ObjectId (ref: User)
  matchScore: number (0-100)
  status: 'pending' | 'accepted' | 'rejected'
  commonSkills: string[]
  commonInterests: string[]
  createdAt: Date
}
```

### 4.5 Message/Conversation Models (Planned)
```typescript
// Conversation
{
  type: 'direct' | 'group'
  participants: ObjectId[] (ref: User)
  projectId?: ObjectId (ref: Project)
  name?: string (for groups)
  lastMessage?: string
  lastMessageAt?: Date
  createdAt: Date
}

// Message
{
  conversationId: ObjectId (ref: Conversation)
  senderId: ObjectId (ref: User)
  content: string
  read: boolean
  createdAt: Date
}
```

---

## 5. API ENDPOINTS

### 5.1 Current Endpoints (Implemented)
**Base URL**: `http://localhost:5000/api`

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/auth/register` | No | Register new user |
| POST | `/auth/login` | No | Login user, returns JWT |
| GET | `/auth/me` | Yes | Get current user profile |

**Authentication Header**:
```
Authorization: Bearer <jwt_token>
```

### 5.2 Planned Endpoints

**User Profiles**:
- `GET /users/:id` - Get user profile
- `PUT /users/:id` - Update profile
- `GET /users/search` - Search users by name/skills
- `POST /users/:id/photo` - Upload profile picture

**Matching**:
- `GET /matches` - Get user's matches
- `POST /matches/:userId/like` - Like/accept match
- `POST /matches/:userId/pass` - Pass on match
- `GET /matches/recommendations` - Get recommended matches

**Projects**:
- `GET /projects` - List all projects (with filters)
- `POST /projects` - Create new project
- `GET /projects/:id` - Get project details
- `PUT /projects/:id` - Update project
- `DELETE /projects/:id` - Delete project
- `POST /projects/:id/apply` - Apply for role
- `GET /projects/my` - Get user's projects
- `GET /projects/:id/applicants` - Get applicants for project

**Messaging**:
- `GET /conversations` - Get user's conversations
- `POST /conversations` - Create new conversation
- `GET /conversations/:id/messages` - Get messages
- `POST /conversations/:id/messages` - Send message
- `PUT /messages/:id/read` - Mark message as read

**Notifications**:
- `GET /notifications` - Get user's notifications
- `PUT /notifications/:id/read` - Mark as read

---

## 6. DESIGN PATTERNS & CONVENTIONS

### 6.1 Component Patterns

**Multi-Step Form Pattern**:
- Nested routes for each step
- Shared form data through component state
- Sequential navigation via `useNavigate()`
- Validation at each step
- Responsive sidebar for branding

**Modal Pattern**:
- Fixed positioning overlay with backdrop
- Close button and action buttons
- Scrollable content for long forms
- Controlled visibility via parent state

**Tabbed Interface Pattern**:
- `activeTab` state manages selection
- Tab buttons highlight active state
- Conditional rendering of tab content

**Collapsible/Expandable Pattern**:
- State tracks which item is expanded
- Click handler toggles expansion
- Chevron icons indicate state

### 6.2 Code Organization

**Frontend Component Structure**:
```
ComponentName.tsx
‚îú‚îÄ‚îÄ Imports
‚îú‚îÄ‚îÄ Type definitions
‚îú‚îÄ‚îÄ Constants (sample data, configs)
‚îú‚îÄ‚îÄ Main component function
‚îÇ   ‚îú‚îÄ‚îÄ State declarations
‚îÇ   ‚îú‚îÄ‚îÄ Event handlers
‚îÇ   ‚îú‚îÄ‚îÄ Helper functions
‚îÇ   ‚îî‚îÄ‚îÄ Return JSX
‚îî‚îÄ‚îÄ Export
```

**Backend Controller Pattern**:
```typescript
export const controllerName = async (req: Request, res: Response) => {
  try {
    // 1. Extract and validate inputs
    // 2. Business logic
    // 3. Database operations
    // 4. Send success response
  } catch (error) {
    // 5. Error handling
    res.status(500).json({ message: 'Error message' })
  }
}
```

### 6.3 Naming Conventions

**Components**: PascalCase (e.g., `ProjectCard`, `CreateProjectModal`)
**Files**: Component files match component name
**Routes**: kebab-case (e.g., `/my-projects`, `/dashboard/discover`)
**State variables**: camelCase (e.g., `activeTab`, `expandedProject`)
**Constants**: UPPER_SNAKE_CASE (e.g., `SAMPLE_PROJECTS`)
**Types**: PascalCase (e.g., `User`, `AuthContextType`)

### 6.4 Styling Conventions

**Button Variants**:
```tsx
// Primary
className="bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-full hover:shadow-md"

// Secondary
className="bg-white border border-slate-200 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-50"

// Ghost
className="text-slate-600 hover:text-orange-500 px-4 py-2 rounded-lg hover:bg-slate-50"
```

**Card Pattern**:
```tsx
className="bg-white rounded-xl shadow-sm border border-slate-100 p-6 hover:shadow-md transition-all"
```

**Input Pattern**:
```tsx
className="px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all"
```

---

## 7. DEVELOPMENT ROADMAP

### Phase 1: Authentication & User Management ‚úÖ (DONE)
- ‚úÖ Basic project structure
- ‚úÖ User model with validation
- ‚úÖ JWT authentication
- ‚úÖ Register/Login endpoints
- ‚úÖ Password hashing
- ‚ùå Register page UI (TODO)
- ‚ùå Login page UI (TODO)
- ‚ùå Auth context/state management (TODO)

### Phase 2: User Profiles (NEXT - IN PROGRESS)
**Backend**:
- Create profile update endpoint
- Get user profile endpoint
- Search users endpoint
- Profile picture upload (Cloudinary/S3)

**Frontend**:
- Profile page
- Profile edit form
- Skills/interests tag selector
- Image upload component

### Phase 3: Matching Algorithm
**Backend**:
- Match model
- Matching algorithm implementation
- Get matches endpoint
- Like/Pass functionality

**Frontend**:
- Discover page (swipe interface)
- Matches list page
- Match detail page

### Phase 4: Messaging
**Backend**:
- Message and Conversation models
- Socket.io setup for real-time chat
- Send/receive message endpoints
- Get conversations endpoint

**Frontend**:
- Chat interface
- Conversation list
- Real-time message updates
- Message notifications

### Phase 5: Projects & Collaboration
**Backend**:
- Project model
- CRUD endpoints
- Invite members functionality
- Project search/filter

**Frontend**:
- Projects dashboard
- Create project form
- Project detail page
- Member management

### Phase 6: Notifications & Emails
- Notification model
- Email service (Nodemailer)
- Match notifications
- Message notifications
- Project invite notifications

### Phase 7: Admin & Analytics
- Admin role middleware
- User management endpoints
- Analytics endpoints

### Phase 8: Mobile App (React Native)
- Initialize React Native with Expo
- Connect to existing API
- Implement core features
- Push notifications

### Phase 9: Polish & Launch
- Error handling improvements
- Loading states
- Form validation feedback
- Security audit
- Performance optimization
- Deployment

---

## 8. ENVIRONMENT & CONFIGURATION

### 8.1 Development Setup

**Prerequisites**:
- Node.js 18+
- MongoDB (local or Atlas)
- npm or yarn

**Installation**:
```bash
npm install
npm run install:all
```

**Environment Variables**:

**Server** (`/server/.env`):
```env
PORT=5000
NODE_ENV=development
MONGODB_URI=mongodb://localhost:27017/matchbox
JWT_SECRET=your-super-secret-jwt-key-change-this
JWT_EXPIRES_IN=7d
CLIENT_URL=http://localhost:3000
```

**Client** (`/client/.env.local`):
```env
NEXT_PUBLIC_API_URL=http://localhost:5000/api
```

**Run Development**:
```bash
npm run dev              # Both servers
npm run dev:client       # Frontend only
npm run dev:server       # Backend only
```

**URLs**:
- Frontend: http://localhost:3000
- Backend: http://localhost:5000
- MongoDB: mongodb://localhost:27017

### 8.2 Build Commands

**Server**:
```bash
cd server
npm run dev              # Development with auto-reload
npm run build            # Compile TypeScript
npm run start            # Production mode
```

**Client**:
```bash
cd client
npm run dev              # Development server
npm run build            # Production build
npm run start            # Production server
```

---

## 9. KEY DECISIONS & RATIONALE

### 9.1 Why Two Codebases?
1. **MagicPatternsCode**: Rapid UI/UX prototyping and design validation
2. **Next.js/Express**: Production-ready architecture with scalability

### 9.2 Technology Choices

**Next.js over Create React App**:
- Built-in optimizations (code splitting, image optimization)
- Server-side rendering capabilities
- Easy deployment to Vercel
- Better SEO potential

**TypeScript Everywhere**:
- Catch bugs early in development
- Better IDE support and autocomplete
- Shared types between frontend and backend
- Improved maintainability

**Tailwind CSS**:
- Fast styling without CSS files
- Consistent design system
- Responsive utilities
- Small production bundle

**MongoDB**:
- Flexible schema for evolving requirements
- Easy to learn and use
- JSON-like documents map well to JavaScript
- Free tier on Atlas for deployment

**JWT Authentication**:
- Stateless (no server-side sessions)
- Works great for mobile apps later
- Easy to scale horizontally
- Industry standard

**Monorepo with Workspaces**:
- Single repository for easier management
- Shared dependencies
- Coordinated versioning
- Simplified CI/CD

### 9.3 Architecture Decisions

**REST API over GraphQL**:
- Simpler to implement and debug
- Adequate for current requirements
- Well-understood by team
- Can migrate to GraphQL later if needed

**Context API over Redux**:
- Simpler for authentication state
- Less boilerplate
- Sufficient for MVP scope
- Can add state management library later if needed

**React Router over Next.js Router** (in Vite prototype):
- Magic Patterns generated with React Router
- More flexible for SPA-style navigation
- Production app uses Next.js App Router

---

## 10. TESTING & VALIDATION

### 10.1 API Testing
**Tools**: Postman, Thunder Client, curl

**Test Register**:
```bash
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test User",
    "email": "test@example.com",
    "password": "password123"
  }'
```

**Test Login**:
```bash
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }'
```

**Test Protected Route**:
```bash
curl -X GET http://localhost:5000/api/auth/me \
  -H "Authorization: Bearer <your_jwt_token>"
```

### 10.2 Validation Rules

**Email**: Must be `.edu` domain (in signup flow)
**Password**: Minimum 6 characters
**Name**: 3-50 characters
**Skill Ratings**: 0-10 scale

---

## 11. DEPLOYMENT STRATEGY (Planned)

**Frontend**: Vercel (one-click Next.js deployment)
**Backend**: Railway or Render (free tier available)
**Database**: MongoDB Atlas (cloud, free tier)
**Domain**: Custom domain setup
**SSL**: Automatic with Vercel/Railway

---

## 12. KNOWN LIMITATIONS & TODO

### Current Limitations:
1. **No API integration** in MagicPatternsCode frontend (uses mock data)
2. **No authentication UI** in production Next.js app
3. **No data persistence** in prototype (AuthContext mock)
4. **No file upload** functionality yet
5. **No real-time chat** (Socket.io not implemented)
6. **No matching algorithm** implemented
7. **No email verification** system
8. **No password reset** functionality
9. **No input sanitization** beyond basic validation
10. **No rate limiting** on API endpoints

### Immediate TODO:
- [ ] Build login/register pages in Next.js app
- [ ] Connect frontend to backend API
- [ ] Implement profile page and edit functionality
- [ ] Add profile picture upload
- [ ] Implement password reset flow
- [ ] Add email verification
- [ ] Build matching algorithm
- [ ] Implement real-time messaging
- [ ] Add input sanitization
- [ ] Add rate limiting

---

## 13. USEFUL RESOURCES & DOCUMENTATION

**Project Documentation**:
- [QUICKSTART.md](./QUICKSTART.md) - 5-minute setup guide
- [SETUP.md](./SETUP.md) - Detailed setup and troubleshooting
- [ROADMAP.md](./ROADMAP.md) - Full development plan
- [PROJECT_SUMMARY.md](./PROJECT_SUMMARY.md) - What's built and why
- [TESTING.md](./TESTING.md) - API testing guide
- [SNIPPETS.md](./SNIPPETS.md) - Code examples
- [INDEX.md](./INDEX.md) - Documentation index

**External Resources**:
- Next.js: https://nextjs.org/docs
- Express: https://expressjs.com/
- MongoDB: https://docs.mongodb.com/
- Mongoose: https://mongoosejs.com/docs/
- TypeScript: https://www.typescriptlang.org/docs/
- Tailwind: https://tailwindcss.com/docs
- React Router: https://reactrouter.com/
- Socket.io: https://socket.io/docs/v4/

---

## 14. GIT WORKFLOW & COLLABORATION

**Current Branch**: `main`
**Main Branch**: `main` (for PRs)

**Recent Commits**:
- `a5ee66b`: Add basic structure and tech stack
- `d378b75`: Add frontend folder with initial code
- `0f25b9b`: Initial commit

**Modified Files** (at context creation):
- `matchbox.code-workspace` (workspace configuration)

**Git Strategy** (Recommended):
1. Use feature branches for new features
2. Create pull requests for review
3. Share `.env` values securely (not in git)
4. One person manages MongoDB or use Atlas
5. Review roadmap together
6. Assign phases to team members
7. Test APIs before building UI

---

## 15. MAGIC PATTERNS FRONTEND - DETAILED COMPONENT INVENTORY

### 15.1 Pages

**LandingPage.tsx** (`/`):
- Public marketing page
- Hero section with project showcase mockup
- "How MATCHBOX Works" educational section (3 steps)
- Sign Up/Log In navigation
- Testimonial cards
- Responsive with gradient orange-to-red branding

**SignupFlow.tsx** (`/signup/*`):
- Nested routes for 5 steps
- Side panel with testimonials (desktop only)
- Progressive form data collection
- Forms:
  - `/signup/` - Email (`.edu` validation)
  - `/signup/profile` - First/Last/Preferred names
  - `/signup/links` - LinkedIn, GitHub, Portfolio
  - `/signup/bio` - Bio text + skill ratings (0-10)
  - `/signup/education` - University, major, graduation, alumni

**Dashboard.tsx** (`/dashboard/*`):
- Main authenticated shell
- Fixed header with branding
- Nested routing:
  - `/dashboard/` ‚Üí HomePage
  - `/dashboard/discover` ‚Üí DiscoverPage
  - `/dashboard/chat` ‚Üí ChatPage
- Bottom navigation (mobile/tablet)
- "My Projects" and "New Project" CTAs
- Modal trigger for CreateProjectModal

**ProfilePage.tsx** (`/profile`):
- User avatar, name, education info
- Bio section
- Skills with progress bars
- Interests as tags
- Completed projects with status badges
- Edit Profile and My Projects buttons
- Social links

**ProjectDetailsPage.tsx** (`/project/:id`):
- Project title, description, tags, timeline
- Team roles list with fill status
- Role descriptions
- Filled member information
- Creator information
- Apply buttons for open roles

**MyProjectsPage.tsx** (`/my-projects`):
- List of user's created projects
- Expandable project cards
- Three tabs per project:
  - Team Members: Table with actions
  - Applicants: Match quality, messages, accept/reject
  - Recommendations: AI-suggested candidates
- Edit roles functionality

### 15.2 Dashboard Components

**HomePage.tsx**:
- Search bar
- Category filter buttons (Tech, Design, Business, Case Competitions)
- Project feed using ProjectCard components
- Sample data: 3 mock projects

**DiscoverPage.tsx**:
- Grid of completed projects (3-column responsive)
- Project cards with:
  - Image
  - Title and description
  - Team member avatars
  - External links (GitHub, articles)
- Sample data: 6 completed projects

**ChatPage.tsx**:
- Two-section layout: sidebar + main chat
- Sidebar tabs: Direct Messages, Groups
- Chat list items with:
  - Avatar
  - Name/group name
  - Last message preview
  - Unread indicators
  - "BOXED!" status label
  - Approval buttons for pending matches
- Main chat area:
  - Message thread
  - Input with send button
  - Group member list
- Modals:
  - Create Group Chat
  - Fill Open Positions
- Sample data: 8 conversations, messages

**CreateProjectModal.tsx**:
- Full-screen overlay
- Form fields:
  - Title
  - Description
  - Tags (dynamic add/remove)
  - Team roles (dynamic add/remove)
- Scrollable content
- Close and submit buttons

**ProjectCard.tsx**:
- Reusable component
- Props-based (title, creator, description, tags, roles, id)
- Team roles with fill indicators
- View Details button
- Apply buttons for open roles
- Hover shadow effect

**ProjectTeamTable.tsx**:
- Table component for team roster
- Columns: Name, Role, Status, Joined Date, Actions
- Message and remove member actions
- Status badges (Active/Inactive)
- Responsive horizontal scroll

### 15.3 AuthContext Implementation

**Location**: `/MagicPatternsCode/Front End/src/context/AuthContext.tsx`

**Exports**:
- `AuthProvider` component
- `useAuth` hook

**Methods**:
- `login(email, password)` - Mock implementation
- `signup(email)` - Mock implementation
- `logout()` - Clears user state
- `updateUserProfile(userData)` - Merges partial user data

**State**:
- `user: User | null`
- `isAuthenticated: boolean` (computed)

**Current Limitations**:
- All methods are synchronous placeholders
- No API calls
- No data persistence (lost on refresh)
- No token management
- No error handling beyond comments

---

## 16. BACKEND IMPLEMENTATION DETAILS

### 16.1 File Structure

**Config** (`/server/src/config/`):
- `database.ts`: MongoDB connection with Mongoose

**Controllers** (`/server/src/controllers/`):
- `auth.controller.ts`: Register, login, getCurrentUser

**Middleware** (`/server/src/middleware/`):
- `auth.middleware.ts`: JWT token verification
- `validation.middleware.ts`: Express-validator rules

**Models** (`/server/src/models/`):
- `User.model.ts`: User schema with password hashing

**Routes** (`/server/src/routes/`):
- `auth.routes.ts`: Auth endpoint definitions

**Utils** (`/server/src/utils/`):
- `jwt.utils.ts`: JWT token generation and verification

**Main** (`/server/src/index.ts`):
- Express app setup
- Middleware configuration (CORS, Helmet, Morgan, JSON parser)
- Route mounting
- Database connection
- Server startup

### 16.2 Security Features

**Password Security**:
- Bcrypt hashing with 10 salt rounds
- Password field excluded from query results by default
- Pre-save hook for automatic hashing

**JWT Security**:
- Configurable secret key (from env)
- Configurable expiration (default 7 days)
- Token verification middleware for protected routes

**API Security**:
- CORS enabled with configurable CLIENT_URL
- Helmet for security headers
- Input validation with express-validator
- Environment-based configuration

**Input Validation**:
- Email format validation
- Password length requirements
- Name length constraints
- Trimming and normalization

### 16.3 Error Handling

**Controller Pattern**:
```typescript
try {
  // Main logic
  res.status(200).json({ data })
} catch (error) {
  res.status(500).json({
    message: 'Error message',
    error: process.env.NODE_ENV === 'development' ? error : {}
  })
}
```

**Status Codes**:
- 200: Success
- 201: Created
- 400: Bad request / validation error
- 401: Unauthorized
- 404: Not found
- 500: Server error

---

## 17. FRONTEND-BACKEND INTEGRATION PLAN

### 17.1 API Client Setup (`/client/src/lib/api.ts`)
```typescript
import axios from 'axios'

const api = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL,
  headers: {
    'Content-Type': 'application/json'
  }
})

// Request interceptor to add JWT token
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token')
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})

// Response interceptor for error handling
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Redirect to login
      localStorage.removeItem('token')
      window.location.href = '/login'
    }
    return Promise.reject(error)
  }
)

export default api
```

### 17.2 Auth Flow Integration

**Register Flow**:
1. User submits registration form
2. Frontend sends POST to `/api/auth/register`
3. Backend validates, creates user, returns JWT
4. Frontend stores token in localStorage
5. Frontend redirects to dashboard

**Login Flow**:
1. User submits login form
2. Frontend sends POST to `/api/auth/login`
3. Backend validates credentials, returns JWT
4. Frontend stores token in localStorage
5. Frontend redirects to dashboard

**Protected Routes**:
1. Frontend checks for token in localStorage
2. If no token, redirect to login
3. If token exists, include in API requests
4. Backend middleware verifies token
5. If invalid, return 401 ‚Üí frontend clears token and redirects

### 17.3 Data Migration from Mock to API

**Steps**:
1. Replace `AuthContext` mock methods with API calls
2. Update `useAuth` hook to handle async operations
3. Add loading and error states
4. Replace sample data constants with API fetch calls
5. Add proper error boundaries and fallbacks

---

## 18. WHEN TO USE WHICH CODEBASE

### Use MagicPatternsCode Frontend When:
‚úÖ Designing new UI components
‚úÖ Testing user flows and interactions
‚úÖ Creating mockups for stakeholder demos
‚úÖ Rapid prototyping of new features
‚úÖ Reference for styling and layout patterns
‚úÖ Understanding component structure

### Use Next.js/Express Codebase When:
‚úÖ Implementing backend logic and APIs
‚úÖ Working with database and data models
‚úÖ Building authentication and authorization
‚úÖ Integrating frontend with backend
‚úÖ Writing production-ready code
‚úÖ Preparing for deployment
‚úÖ Testing with real data

### Migration Strategy:
1. Design and validate UI in MagicPatternsCode
2. Copy component structure to Next.js app
3. Adapt routing to Next.js App Router
4. Replace mock data with API calls
5. Add error handling and loading states
6. Test integration with backend

---

## 19. COMMON DEVELOPMENT WORKFLOWS

### Adding a New Feature:

1. **Backend First**:
   - Create model in `/server/src/models/`
   - Create controller in `/server/src/controllers/`
   - Add routes in `/server/src/routes/`
   - Add validation middleware
   - Test with Postman/curl

2. **Frontend Second**:
   - Prototype UI in MagicPatternsCode (optional)
   - Create page in `/client/src/app/`
   - Create components in `/client/src/components/`
   - Add API calls using api client
   - Connect to backend endpoints
   - Add error handling and loading states

3. **Testing**:
   - Test API endpoints independently
   - Test frontend components with mock data
   - Test integration end-to-end
   - Test error cases and edge cases

### Debugging Tips:

**Backend Issues**:
- Check server console logs
- Verify MongoDB connection
- Test endpoints with Postman
- Check environment variables
- Review middleware order

**Frontend Issues**:
- Check browser console
- Verify API_URL configuration
- Check network tab for API calls
- Verify token in localStorage
- Check React component tree

**Integration Issues**:
- Check CORS configuration
- Verify token format and expiration
- Check request/response headers
- Verify data format matches expectations

---

## 20. FUTURE CONSIDERATIONS

### Scalability:
- Consider Redis for session storage at scale
- Implement caching strategy for frequently accessed data
- Add database indexing for common queries
- Consider CDN for static assets
- Implement rate limiting and throttling

### Security Enhancements:
- Add email verification
- Implement password reset flow
- Add 2FA/MFA support
- Implement CSRF protection
- Add input sanitization
- Implement request rate limiting
- Add API key management
- Consider OAuth integration (Google, LinkedIn)

### Performance Optimizations:
- Implement lazy loading for components
- Add pagination for large data sets
- Optimize images and assets
- Implement service workers for offline support
- Add database query optimization
- Consider GraphQL for flexible data fetching

### Mobile Development:
- Plan React Native app architecture
- Reuse backend APIs
- Share TypeScript types
- Implement push notifications
- Consider offline-first architecture

### Analytics & Monitoring:
- Add analytics tracking (Google Analytics, Mixpanel)
- Implement error tracking (Sentry)
- Add performance monitoring
- Track user engagement metrics
- Monitor API usage and performance

---

## 21. CONTEXT FOR AI ASSISTANCE

### When Helping with This Project:

**Always Consider**:
1. There are TWO separate frontend codebases serving different purposes
2. MagicPatternsCode is for UI/UX reference, NOT connected to backend
3. Next.js app is production codebase, needs backend integration
4. Follow existing patterns and conventions
5. Maintain TypeScript type safety
6. Use Tailwind CSS for styling
7. Follow the roadmap for feature priority

**When Generating Code**:
1. Ask which codebase (MagicPatternsCode vs Next.js/Express)
2. Follow existing file structure and naming
3. Match existing code style and patterns
4. Include proper TypeScript types
5. Add error handling and validation
6. Include comments for complex logic
7. Consider mobile responsiveness

**When Debugging**:
1. Identify which codebase has the issue
2. Check environment variables
3. Verify API endpoint URLs
4. Check authentication flow
5. Review console logs and errors
6. Test API endpoints independently
7. Verify data model expectations

**When Planning Features**:
1. Reference ROADMAP.md for phase order
2. Start with backend (model, controller, routes)
3. Prototype UI in MagicPatternsCode if needed
4. Implement in Next.js with API integration
5. Add proper error handling and loading states
6. Write tests before marking complete

---

## 22. CRITICAL REMINDERS

üî• **IMPORTANT NOTES**:

1. **MagicPatternsCode DOES NOT connect to backend** - It's a UI prototype only
2. **Two separate authentication implementations** - Mock (Vite) vs Real (Next.js)
3. **Sample data everywhere in prototype** - Look for `SAMPLE_*` or `MY_PROJECTS` constants
4. **Production app incomplete** - Auth UI not built yet, API ready
5. **Phase 1 backend done, Phase 2 next** - Focus on user profiles
6. **JWT expires in 7 days** - Configurable in server .env
7. **Email must be .edu** - Signup flow validates this (frontend only currently)
8. **Skills rated 0-10** - Design decision in frontend
9. **Matching algorithm not implemented** - Formula designed but not coded
10. **Real-time chat not implemented** - Socket.io not set up yet

---

## 23. QUICK REFERENCE COMMANDS

```bash
# Start everything
npm run dev

# Start individually
npm run dev:client
npm run dev:server

# Install all dependencies
npm run install:all

# Build for production
cd client && npm run build
cd server && npm run build

# Test backend
curl http://localhost:5000/
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"name":"Test","email":"test@edu","password":"pass123"}'

# Generate JWT secret
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# MongoDB commands
mongosh                           # Connect to local MongoDB
use matchbox                      # Switch to matchbox database
db.users.find()                   # View all users
db.users.deleteMany({})           # Clear all users (dev only!)
```

---

## 24. PROJECT STATUS SUMMARY

**‚úÖ COMPLETED**:
- Project structure and monorepo setup
- Backend API foundation with Express + TypeScript
- MongoDB database integration
- User model with validation
- JWT authentication system
- Password hashing with bcrypt
- Protected route middleware
- Frontend prototype with complete UI/UX (MagicPatternsCode)
- Next.js project initialization
- Comprehensive documentation

**üöß IN PROGRESS**:
- User profile management (Phase 2)
- Frontend-backend integration

**‚ùå TODO**:
- Auth UI pages (login/register) in Next.js
- Profile pages in Next.js
- Matching algorithm
- Real-time messaging (Socket.io)
- Projects feature
- Notifications system
- Email integration
- Admin dashboard
- Mobile app
- Deployment

**Current Phase**: Transitioning from Phase 1 to Phase 2
**Next Milestone**: Complete user profile management
**Target**: MVP with core features (Phases 1-5)

---

**End of Claude Context Document**

*This document serves as a comprehensive memory and reference for AI assistance on the Matchbox project. Update this document as the project evolves.*
